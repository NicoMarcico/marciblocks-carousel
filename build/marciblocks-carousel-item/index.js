(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,i=window.wp.element,r=window.wp.i18n,c=window.wp.components,l=window.ReactJSXRuntime;function o(e){const{pictureId:i,onSelectImage:o}=e;return(0,l.jsx)(t.BlockControls,{children:(0,l.jsx)(c.ToolbarGroup,{children:i&&(0,l.jsx)(t.MediaUpload,{onSelect:o,allowedTypes:["image"],value:i,render:({open:e})=>(0,l.jsx)(c.ToolbarItem,{children:({isDisabled:t})=>(0,l.jsx)(c.Button,{onClick:e,isDisabled:t,icon:"edit",label:(0,r.__)("Edit image","marciblocks-carousel")})})})})})}function s(e){const{attributes:i,onSelectImage:o,blockProps:s}=e,{pictureId:n,pictureUrl:a,pictureAlt:u}=i;return(0,l.jsx)("div",{...s,children:n?(0,l.jsx)("img",{src:a,alt:u}):(0,l.jsx)(t.MediaUploadCheck,{children:(0,l.jsx)(t.MediaUpload,{onSelect:o,allowedTypes:["image"],value:n,render:({open:e})=>(0,l.jsx)(c.Placeholder,{icon:"images-alt",label:(0,r.__)("Picture","marciblocks-carousel"),instructions:(0,r.__)("Select image","marciblocks-carousel"),children:(0,l.jsx)(c.Button,{variant:"secondary",isLarge:!0,onClick:e,icon:"upload",children:(0,r.__)("Import","marciblocks-carousel")})})})})})}const n=JSON.parse('{"UU":"marciblocks/carousel-item"}');(0,e.registerBlockType)(n.UU,{edit:function(e){const r=(0,t.useBlockProps)(),{attributes:c,setAttributes:n,isSelected:a}=e,{pictureId:u,pictureUrl:d,pictureAlt:p}=c,m=e=>{if(!e)return;const t=e.sizes?.medium?.url||e.url;n({pictureId:e.id,pictureUrl:t,pictureAlt:e.alt})};return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(o,{pictureId:u,onSelectImage:m}),(0,l.jsx)(s,{attributes:c,setAttributes:n,onSelectImage:m,isSelected:a,blockProps:r})]})},save:function(e){const{pictureId:i,pictureUrl:r,pictureAlt:c}=e.attributes,o=t.useBlockProps.save();return i&&(0,l.jsx)("div",{...o,children:(0,l.jsx)("img",{src:r,alt:c})})}})})();